# In questo modo la dApp definition (l'address che è anche l'owner del componente) afferma che le entities elencate
# (componenti e risorse) sono di sua gestione.

# Questo deve essere 'controfirmato' dai componenti e dalle risorse stesse che devono confermare che 'appartengono'
# a tale account id (dapp_definition)

SET_METADATA
    Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
    "claimed_entities"
    Enum<136u8>(
        Array<Address>(
            Address("component_tdx_2_1cq2245e7pjxzl0xjve8cv70m2lswumu9p0hju4ac9yf47upvk2m7wg"),
            Address("resource_tdx_2_1thjvntrk4rrvrwdrw8dl8a6suwcfa04v03hk4zys45xv0guaaj2sdw"),
            Address("resource_tdx_2_1t5rmhtyxu0pjv67j23h0pkj9ftl8axds5t6w0hkhp259zlan0dw8wn"),
            Address("resource_tdx_2_1nt39jg8x0m8cdx6qh9xna75vpxslr2w787wpgvdx4gr3pncuzs6xaw"),
            Address("resource_tdx_2_1n2rl0mka28l2006m9etzeh7ya5l92erecnn6ylkvpayglely7z0pnf"),
            Address("resource_tdx_2_1thxzf69chntswm576g9lpqxkdeela966w8t8thq2j86h8phh3srp0d"),
            Address("resource_tdx_2_1nfetha5wv63kg979hd07e6ql3p50ah03hremexgg5f7ft9vf23fn4t"),
            Address("resource_tdx_2_1nfetha5wv63kg979hd07e6ql3p50ah03hremexgg5f7ft9vf23fn4t"),
            Address("resource_tdx_2_1tk9cghwj6dp2tdhkce77dwxsvylmndxz0ummpwrcw23d8y6ncf3egq"),
            Address("resource_tdx_2_1ntnud5yacqxy5g4097gac7t5jx7gqkg9h80rnw8vhlh9slyx3y2908")
        )
    )
;


# Questa è la controfirma, cioè l'associazione della dapp_definition al componente, tramite l'uso dell'owner badge
# funziona 
CALL_METHOD
    Address("account_tdx_2_128gpncka85tmpztygfc7ewjrzvvgyc9mlnc47uxtxlk0av0ngp2anz")
    #Address("OWNER_ADDRESS_DEL_CONTRATTO")
    "create_proof_of_amount"    
    Address("resource_tdx_2_1thjvntrk4rrvrwdrw8dl8a6suwcfa04v03hk4zys45xv0guaaj2sdw")
    #Address("OWNER_BADGE")
    Decimal("1");
SET_METADATA
    Address("component_tdx_2_1cq2245e7pjxzl0xjve8cv70m2lswumu9p0hju4ac9yf47upvk2m7wg")
     #Address("COMP_ADDRESS")
    "dapp_definition"
    Enum<8u8>(
        Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
        #Address("DAPP_ID")
    )
;







# e questa è invece la controfirma di tutte le risorse (create proof utilizza l'indirizzo dell'owner badge)
# sul badge owner non funziona
# Unauthorized(Unauthorized { failed_access_rules: RoleList([(RoleKey { key: \'metadata_setter\' }, [DenyAll]
CALL_METHOD
    Address("account_tdx_2_128gpncka85tmpztygfc7ewjrzvvgyc9mlnc47uxtxlk0av0ngp2anz")
    #Address("OWNER_ADDRESS_DEL_CONTRATTO")
    "create_proof_of_amount"    
    Address("resource_tdx_2_1thjvntrk4rrvrwdrw8dl8a6suwcfa04v03hk4zys45xv0guaaj2sdw")
    #Address("OWNER_BADGE")
    Decimal("1");
SET_METADATA
    Address("resource_tdx_2_1thjvntrk4rrvrwdrw8dl8a6suwcfa04v03hk4zys45xv0guaaj2sdw")
    #Address("OWNER_BADGE")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
            #Address("DAPP_ID")
        )
    )
;



# e questa è invece la controfirma di tutte le risorse (create proof utilizza l'indirizzo dell'owner badge)
# sul badge admin funziona
CALL_METHOD
    Address("account_tdx_2_128gpncka85tmpztygfc7ewjrzvvgyc9mlnc47uxtxlk0av0ngp2anz")
    #Address("OWNER_ADDRESS_DEL_CONTRATTO")
    "create_proof_of_amount"    
    Address("resource_tdx_2_1thjvntrk4rrvrwdrw8dl8a6suwcfa04v03hk4zys45xv0guaaj2sdw")
    #Address("OWNER_BADGE")
    Decimal("1");
SET_METADATA
    Address("resource_tdx_2_1t5rmhtyxu0pjv67j23h0pkj9ftl8axds5t6w0hkhp259zlan0dw8wn")
    #Address("ADMIN_BADGE")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
            #Address("DAPP_ID")
        )
    )
;



# sui due badge benefactor e staff invece funziona
CALL_METHOD
    Address("account_tdx_2_128gpncka85tmpztygfc7ewjrzvvgyc9mlnc47uxtxlk0av0ngp2anz")
    #Address("OWNER_ADDRESS_DEL_CONTRATTO")
    "create_proof_of_amount"    
    Address("resource_tdx_2_1thjvntrk4rrvrwdrw8dl8a6suwcfa04v03hk4zys45xv0guaaj2sdw")
    #Address("OWNER_BADGE")
    Decimal("1");
SET_METADATA
    Address("resource_tdx_2_1nt39jg8x0m8cdx6qh9xna75vpxslr2w787wpgvdx4gr3pncuzs6xaw")
    #Address("STAFF_BADGE")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
            #Address("DAPP_ID")
        )
    )
;


# e su questi nemmeno
# Unauthorized(Unauthorized { failed_access_rules: RoleList([(RoleKey { key: \'metadata_setter\' }, [DenyAll])]
#lnd token
CALL_METHOD
    Address("account_tdx_2_128gpncka85tmpztygfc7ewjrzvvgyc9mlnc47uxtxlk0av0ngp2anz")
    #Address("OWNER_ADDRESS_DEL_CONTRATTO")
    "create_proof_of_amount"    
    Address("resource_tdx_2_1thjvntrk4rrvrwdrw8dl8a6suwcfa04v03hk4zys45xv0guaaj2sdw")
    #Address("OWNER_BADGE")
    Decimal("1");
SET_METADATA
    Address("resource_tdx_2_1thxzf69chntswm576g9lpqxkdeela966w8t8thq2j86h8phh3srp0d")
    #Address("LND_TOKEN")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
            #Address("DAPP_ID")
        )
    )
;

#nft manager
# Unauthorized ??
CALL_METHOD
    Address("account_tdx_2_128gpncka85tmpztygfc7ewjrzvvgyc9mlnc47uxtxlk0av0ngp2anz")
    #Address("OWNER_ADDRESS_DEL_CONTRATTO")
    "create_proof_of_amount"    
    Address("resource_tdx_2_1thjvntrk4rrvrwdrw8dl8a6suwcfa04v03hk4zys45xv0guaaj2sdw")
    #Address("OWNER_BADGE")
    Decimal("1");
SET_METADATA
    Address("resource_tdx_2_1nfetha5wv63kg979hd07e6ql3p50ah03hremexgg5f7ft9vf23fn4t")
    #Address("LEND_NFT_MANAGER")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
            #Address("DAPP_ID")
        )
    )
;


#BAD_PAYER
CALL_METHOD
    Address("account_tdx_2_128gpncka85tmpztygfc7ewjrzvvgyc9mlnc47uxtxlk0av0ngp2anz")
    #Address("OWNER_ADDRESS_DEL_CONTRATTO")
    "create_proof_of_amount"    
    Address("resource_tdx_2_1thjvntrk4rrvrwdrw8dl8a6suwcfa04v03hk4zys45xv0guaaj2sdw")
    #Address("OWNER_BADGE")
    Decimal("1");
SET_METADATA
    Address("resource_tdx_2_1n2rl0mka28l2006m9etzeh7ya5l92erecnn6ylkvpayglely7z0pnf")
    #Address("BAD_PAYER")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
            #Address("DAPP_ID")
        )
    )
;

# Unauthorized ??
SET_METADATA
    Address("resource_tdx_2_1nfetha5wv63kg979hd07e6ql3p50ah03hremexgg5f7ft9vf23fn4t")
    #Address("VITE_CREDIT_SCORE_RESOURCE_ADDRESS")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
            #Address("DAPP_ID")
        )
    )
;
SET_METADATA
    Address("resource_tdx_2_1tk9cghwj6dp2tdhkce77dwxsvylmndxz0ummpwrcw23d8y6ncf3egq")
    #Address("VITE_PT_RESOURCE_ADDRESS")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
            #Address("DAPP_ID")
        )
    )
;
SET_METADATA
    Address("resource_tdx_2_1ntnud5yacqxy5g4097gac7t5jx7gqkg9h80rnw8vhlh9slyx3y2908")
    #Address("VITE_YT_RESOURCE_ADDRESS")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
            #Address("DAPP_ID")
        )
    )
;