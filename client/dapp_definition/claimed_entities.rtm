# In questo modo la dApp definition (l'address che è anche l'owner del componente) afferma che le entities elencate
# (componenti e risorse) sono di sua gestione.

# Questo deve essere 'controfirmato' dai componenti e dalle risorse stesse che devono confermare che 'appartengono'
# a tale account id (dapp_definition)

SET_METADATA
    Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
    "claimed_entities"
    Enum<136u8>(
        Array<Address>(
            Address("component_tdx_2_1czq3c2ptkyz6jtjkq5xee9kwns29xhdmqcaxu8uc9ass54d3rvwc94"),
            Address("resource_tdx_2_1t4ta06v8jrvu82vzpz5rzpe88q7ap73qcfaa4zww0zjq4ty2fw3zwh"),
            Address("resource_tdx_2_1t43elum4rz5mdzt6sprqa9z3ahhatttwwm36sslrm0puywct3hy7km"),
            Address("resource_tdx_2_1ngw36y4tfcwz7j0wk2658s9d83nlu5mrnja5nelcsmsw05qhcpym8p"),
            Address("resource_tdx_2_1ntzurcf9zp3nlf20n3mnmqdtsuzyqmk9p22268gvekhrrhd4evc90c"),
            Address("resource_tdx_2_1th6tw0wudvswqse9jxkq5237fe2q46jt9p4af5wdejwvrdmjyu9q4s"),
            Address("resource_tdx_2_1n2va2fmhvuv50wqknf5fu0v3cqghkf4yr69n0xmj58u27ht2262mf9")
        )
    )
;

# Questa è la controfirma, cioè l'associazione della dapp_definition al componente, tramite l'uso dell'owner badge

CALL_METHOD
    Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
    "create_proof_of_amount"    
    Address("resource_tdx_2_1t4ta06v8jrvu82vzpz5rzpe88q7ap73qcfaa4zww0zjq4ty2fw3zwh")
    Decimal("1");
SET_METADATA
    Address("component_tdx_2_1czq3c2ptkyz6jtjkq5xee9kwns29xhdmqcaxu8uc9ass54d3rvwc94")
    "dapp_definition"
    Enum<8u8>(
        Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
    )
;

            Address("resource_tdx_2_1t4ta06v8jrvu82vzpz5rzpe88q7ap73qcfaa4zww0zjq4ty2fw3zwh"),
            Address("resource_tdx_2_1t43elum4rz5mdzt6sprqa9z3ahhatttwwm36sslrm0puywct3hy7km"),
            Address("resource_tdx_2_1ngw36y4tfcwz7j0wk2658s9d83nlu5mrnja5nelcsmsw05qhcpym8p"),
            Address("resource_tdx_2_1ntzurcf9zp3nlf20n3mnmqdtsuzyqmk9p22268gvekhrrhd4evc90c"),
            Address("resource_tdx_2_1th6tw0wudvswqse9jxkq5237fe2q46jt9p4af5wdejwvrdmjyu9q4s"),
            Address("resource_tdx_2_1n2va2fmhvuv50wqknf5fu0v3cqghkf4yr69n0xmj58u27ht2262mf9")
# e questa è invece la controfirma di tutte le risorse (create proof utilizza l'indirizzo dell'owner badge)
# sui due badge admin ed owner non funziona
# Unauthorized(Unauthorized { failed_access_rules: RoleList([(RoleKey { key: \'metadata_setter\' }, [DenyAll]

CALL_METHOD
    Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
    "create_proof_of_amount"    
    Address("resource_tdx_2_1t4ta06v8jrvu82vzpz5rzpe88q7ap73qcfaa4zww0zjq4ty2fw3zwh")
    Decimal("1");
SET_METADATA
    Address("resource_tdx_2_1t4ta06v8jrvu82vzpz5rzpe88q7ap73qcfaa4zww0zjq4ty2fw3zwh")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
        )
    )
;
SET_METADATA
    Address("resource_tdx_2_1t43elum4rz5mdzt6sprqa9z3ahhatttwwm36sslrm0puywct3hy7km")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
        )
    )
;

# sui due badge benefactor e staff invece funziona

CALL_METHOD
    Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
    "create_proof_of_amount"    
    Address("resource_tdx_2_1t4ta06v8jrvu82vzpz5rzpe88q7ap73qcfaa4zww0zjq4ty2fw3zwh")
    Decimal("1");
SET_METADATA
    Address("resource_tdx_2_1ngw36y4tfcwz7j0wk2658s9d83nlu5mrnja5nelcsmsw05qhcpym8p")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
        )
    )
;
SET_METADATA
    Address("resource_tdx_2_1ntzurcf9zp3nlf20n3mnmqdtsuzyqmk9p22268gvekhrrhd4evc90c")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
        )
    )
;

# e su questi nemmeno
# Unauthorized(Unauthorized { failed_access_rules: RoleList([(RoleKey { key: \'metadata_setter\' }, [DenyAll])]

CALL_METHOD
    Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
    "create_proof_of_amount"    
    Address("resource_tdx_2_1t4ta06v8jrvu82vzpz5rzpe88q7ap73qcfaa4zww0zjq4ty2fw3zwh")
    Decimal("1");
SET_METADATA
    Address("resource_tdx_2_1th6tw0wudvswqse9jxkq5237fe2q46jt9p4af5wdejwvrdmjyu9q4s")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
        )
    )
;
SET_METADATA
    Address("resource_tdx_2_1n2va2fmhvuv50wqknf5fu0v3cqghkf4yr69n0xmj58u27ht2262mf9")
    "dapp_definitions"
    Enum<136u8>(
        Array<Address>(
            Address("account_tdx_2_12870m7gklv3p90004zjnm39jrhpf2vseejrgpncptl7rhsagz8yjm9")
        )
    )
;